[{"C:\\Users\\hp\\Desktop\\social-app\\src\\index.js":"1","C:\\Users\\hp\\Desktop\\social-app\\src\\App.js":"2","C:\\Users\\hp\\Desktop\\social-app\\src\\pages\\home\\Home.js":"3","C:\\Users\\hp\\Desktop\\social-app\\src\\components\\signin-button\\SignInButton.js":"4","C:\\Users\\hp\\Desktop\\social-app\\src\\container\\navbar\\Navbar.js":"5","C:\\Users\\hp\\Desktop\\social-app\\src\\container\\create-post\\CreatePost.js":"6","C:\\Users\\hp\\Desktop\\social-app\\src\\firebase.js":"7","C:\\Users\\hp\\Desktop\\social-app\\src\\services\\auth.js":"8","C:\\Users\\hp\\Desktop\\social-app\\src\\context\\userContext.js":"9","C:\\Users\\hp\\Desktop\\social-app\\src\\helpers\\function.js":"10","C:\\Users\\hp\\Desktop\\social-app\\src\\components\\not-found\\NotFound.js":"11"},{"size":168,"mtime":1609054188984,"results":"12","hashOfConfig":"13"},{"size":519,"mtime":1609079659488,"results":"14","hashOfConfig":"13"},{"size":319,"mtime":1609061376868,"results":"15","hashOfConfig":"13"},{"size":563,"mtime":1609064201280,"results":"16","hashOfConfig":"13"},{"size":622,"mtime":1609079283088,"results":"17","hashOfConfig":"13"},{"size":3771,"mtime":1609078795564,"results":"18","hashOfConfig":"13"},{"size":645,"mtime":1609062087715,"results":"19","hashOfConfig":"13"},{"size":590,"mtime":1609062558524,"results":"20","hashOfConfig":"13"},{"size":331,"mtime":1609063931116,"results":"21","hashOfConfig":"13"},{"size":355,"mtime":1609069256628,"results":"22","hashOfConfig":"13"},{"size":329,"mtime":1609079879543,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"iwcc44",{"filePath":"27","messages":"28","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\hp\\Desktop\\social-app\\src\\index.js",[],["49","50"],"C:\\Users\\hp\\Desktop\\social-app\\src\\App.js",["51"],"C:\\Users\\hp\\Desktop\\social-app\\src\\pages\\home\\Home.js",[],"C:\\Users\\hp\\Desktop\\social-app\\src\\components\\signin-button\\SignInButton.js",[],"C:\\Users\\hp\\Desktop\\social-app\\src\\container\\navbar\\Navbar.js",["52","53"],"C:\\Users\\hp\\Desktop\\social-app\\src\\container\\create-post\\CreatePost.js",["54"],"import React, { useContext, useState } from \"react\";\r\nimport SignInButton from \"../../components/signin-button/SignInButton\";\r\nimport { userContext } from \"../../context/userContext\";\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\r\nimport \"./CreatePost.css\";\r\nimport { db, storage } from \"../../firebase\";\r\nimport makeid from \"../../helpers/function\";\r\nimport firebase from \"firebase\";\r\n\r\nconst CreatePost = () => {\r\n  const [user, setUser] = useContext(userContext).user;\r\n  const [caption, setCaption] = useState();\r\n  const [image, setImage] = useState(null);\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const handleImageChange = (e) => {\r\n    if (e.target.files[0]) {\r\n      setImage(e.target.files[0]);\r\n\r\n      let selectedImageSrc = URL.createObjectURL(e.target.files[0]);\r\n\r\n      let imagePreview = document.getElementById(\"image-preview\");\r\n      imagePreview.src = selectedImageSrc;\r\n      imagePreview.style.display = \"block\";\r\n    }\r\n  };\r\n\r\n  const handelUploadImage = () => {\r\n    if (image) {\r\n      let imageName = makeid(10);\r\n      const uploadTask = storage.ref(`images/${imageName}.jpg`).put(image);\r\n\r\n      uploadTask.on(\r\n        \"state_change\",\r\n        (snapshot) => {\r\n          //   progress\r\n          const progress =\r\n            Math.round(snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n          setProgress(progress);\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        },\r\n        () => {\r\n          // get downloa url\r\n          storage\r\n            .ref(\"images\")\r\n            .child(`${imageName}.jpg`)\r\n            .getDownloadURL()\r\n            .then((imageUrl) => {\r\n              db.collection(\"posts\").add({\r\n                timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                caption: caption,\r\n                photoUrl: imageUrl,\r\n                username: user.email.replace(\"@gmail.com\", \"\"),\r\n                userPhotoUrl: user.photoURL,\r\n              });\r\n            });\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"createPost\">\r\n      {user ? (\r\n        <div className=\"create-post-logged-in\">\r\n          <p>Create Post</p>\r\n          <div className=\"create-post-content\">\r\n            <textarea\r\n              className=\"create-post-textarea\"\r\n              placeholder=\"Enter Your Descripton Here...\"\r\n              rows=\"3\"\r\n              value={caption}\r\n              onChange={(e) => {\r\n                setCaption(e.target.value);\r\n              }}\r\n            ></textarea>\r\n          </div>\r\n\r\n          <div className=\"createpost-imagepreview\">\r\n            <img id=\"image-preview\" alt=\"not-found\" />\r\n          </div>\r\n\r\n          <div className=\"createpost-cta\">\r\n            <div className=\"createpost-uploadimage\">\r\n              <label htmlFor=\"fileInput\">\r\n                <AddAPhotoIcon\r\n                  style={{ cursor: \"pointer\", fontSize: \"20px\" }}\r\n                />\r\n              </label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                id=\"fileInput\"\r\n                onChange={handleImageChange}\r\n              />\r\n            </div>\r\n            <button\r\n              className=\"createpost-uploadbtn\"\r\n              onClick={handelUploadImage}\r\n              style={{\r\n                color: caption ? \"#000\" : \"lightgrey\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            >\r\n              {`Upload ${progress !== 0 ? progress : \"\"}  `}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"not-logged-in\">\r\n          <SignInButton />\r\n          <p className=\"post-comment\">to Post & Comment</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","C:\\Users\\hp\\Desktop\\social-app\\src\\firebase.js",[],"C:\\Users\\hp\\Desktop\\social-app\\src\\services\\auth.js",[],"C:\\Users\\hp\\Desktop\\social-app\\src\\context\\userContext.js",[],["55","56"],"C:\\Users\\hp\\Desktop\\social-app\\src\\helpers\\function.js",[],"C:\\Users\\hp\\Desktop\\social-app\\src\\components\\not-found\\NotFound.js",[],{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":2,"message":"62","line":12,"column":31,"nodeType":"63","messageId":"64","endLine":12,"endColumn":39},{"ruleId":"65","severity":1,"message":"66","line":8,"column":16,"nodeType":"63","messageId":"67","endLine":8,"endColumn":23},{"ruleId":"68","severity":1,"message":"69","line":16,"column":9,"nodeType":"70","endLine":16,"endColumn":59},{"ruleId":"65","severity":1,"message":"66","line":11,"column":16,"nodeType":"63","messageId":"67","endLine":11,"endColumn":23},{"ruleId":"57","replacedBy":"71"},{"ruleId":"59","replacedBy":"72"},"no-native-reassign",["73"],"no-negated-in-lhs",["74"],"no-undef","'NotFound' is not defined.","Identifier","undef","no-unused-vars","'setUser' is assigned a value but never used.","unusedVar","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement",["73"],["74"],"no-global-assign","no-unsafe-negation"]